<div class="my-2">
    Your favorite genres for each year
</div>
<div class="flex flex-row gap-5">
    <div class="pb-4">
        <span class="text-sm">Year: </span>
        <select [(ngModel)]="filterBy" 
            (ngModelChange)="update()"
            class="font-bold">
            @for (year of filterOptions; track year) {
                <option [value]="year">{{ year }}</option>
            }
        </select>
    </div>
    <div class="pl-4">
        <span class="text-sm">Sort by: </span>
        <select [(ngModel)]="sortBy"
            (ngModelChange)="update()"
            class="font-bold">
            <option value="myAvgRating">My Ratings</option>
            <option value="amountOfBooks">Amount of Books</option>
        </select>
    </div>
    <div class="pl-4">
        <span class="text-sm">Show above amount: </span>
        <input type="number"
            min="0"
            class="font-bold"
            [(ngModel)]="lowerLimit"
            (ngModelChange)="update()"
            placeholder="Minimum 0">
    </div>
</div>
<div class="chart-content">
    <div [ngStyle]="{
        height: barChartData.datasets[0].data.length * 50 + 'px',
        }">
        <canvas baseChart
                [data]="barChartData"
                [options]="barChartOptions"
                [plugins]="barChartPlugins"
                [legend]="barChartLegend"
                [type]="'bar'">
        </canvas>
    </div>
</div>
